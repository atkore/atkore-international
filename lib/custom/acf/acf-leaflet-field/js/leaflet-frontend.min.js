jQuery(document).ready(function(e){function t(){typeof leaflet_field.value=="object"?map_settings=leaflet_field.value:map_settings={zoom_level:null,center:{lat:null,lng:null},markers:{}};map_settings.center.lat==null&&(map_settings.center.lat=leaflet_field.lat);map_settings.center.lng==null&&(map_settings.center.lng=leaflet_field.lng);if(map_settings.zoom_level==null||map_settings.zoom_level>18||map_settings.zoom_level<1)leaflet_field.zoom_level>0&&leaflet_field.zoom_level<19?map_settings.zoom_level=leaflet_field.zoom_level:map_settings.zoom_level=13;var t=L.map(leaflet_field.id+"_map",{center:new L.LatLng(map_settings.center.lat,map_settings.center.lng),zoom:map_settings.zoom_level,doubleClickZoom:!0});L.tileLayer(leaflet_field.map_provider.url,{attribution:leaflet_field.map_provider.attribution,maxZoom:18}).addTo(t);Object.keys(map_settings.markers).length>0&&e.each(map_settings.markers,function(e,n){L.geoJson(n,{onEachFeature:function(e,t){e.properties&&e.properties.popupContent&&e.properties.popupContent!=""&&t.bindPopup(e.properties.popupContent)}}).addTo(t)})}t()});