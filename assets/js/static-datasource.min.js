// Copyright 2012 Google Inc.
/**
 * @author Chris Broadfoot (Google)
 * @fileoverview
 * Allows developers to specify a static set of stores to be used in the
 * storelocator.
 *//**
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * A DataFeed with a static set of stores. Provides sorting of stores by
 * proximity and feature filtering (store must have <em>all</em> features from
 * the filter).
 * @example <pre>
 * var dataFeed = new storeLocator.StaticDataFeed();
 * jQuery.getJSON('stores.json', function(json) {
 *   var stores = parseStores(json);
 *   dataFeed.setStores(stores);
 * });
 * new storeLocator.View(map, dataFeed);
 * </pre>
 * @implements {storeLocator.DataFeed}
 * @constructor
 * @implements storeLocator_StaticDataFeed
 */storeLocator.StaticDataFeed=function(){this.stores_=[]};storeLocator.StaticDataFeed=storeLocator.StaticDataFeed;storeLocator.StaticDataFeed.prototype.firstCallback_;storeLocator.StaticDataFeed.prototype.setStores=function(e){this.stores_=e;this.firstCallback_?this.firstCallback_():delete this.firstCallback_};storeLocator.StaticDataFeed.prototype.getStores=function(e,t,n){if(!this.stores_.length){var r=this;this.firstCallback_=function(){r.getStores(e,t,n)};return}var i=[];for(var s=0,o;o=this.stores_[s];s++)o.hasAllFeatures(t)&&i.push(o);this.sortByDistance_(e.getCenter(),i);n(i)};storeLocator.StaticDataFeed.prototype.sortByDistance_=function(e,t){t.sort(function(t,n){return t.distanceTo(e)-n.distanceTo(e)})};