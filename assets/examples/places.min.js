// A simple demo showing how to grab places using the Maps API Places Library.
// Useful extensions may include using "name" filtering or "keyword" search.
function PlacesDataSource(e){this.service_=new google.maps.places.PlacesService(e)}google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.Map(document.getElementById("map-canvas"),{center:new google.maps.LatLng(-28,135),zoom:4,mapTypeId:google.maps.MapTypeId.ROADMAP}),t=document.getElementById("panel"),n=new PlacesDataSource(e),r=new storeLocator.View(e,n),i=new google.maps.Size(24,24);r.createMarker=function(e){return new google.maps.Marker({position:e.getLocation(),icon:new google.maps.MarkerImage(e.getDetails().icon,null,null,null,i)})};new storeLocator.Panel(t,{view:r})});PlacesDataSource.prototype.getStores=function(e,t,n){this.service_.search({bounds:e},function(e,t){var r=[];for(var i=0,s;s=e[i];i++){var o=s.geometry.location,u=new storeLocator.Store(s.id,o,null,{title:s.name,address:s.types.join(", "),icon:s.icon});r.push(u)}n(r)})};